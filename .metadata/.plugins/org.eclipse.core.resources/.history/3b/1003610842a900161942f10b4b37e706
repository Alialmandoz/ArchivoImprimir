package gestion.dao;

import java.util.List;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import archivoImprimir.gestion.pojo.Trabajo;

public class TrabajoDao {
	
	
	private static EntityManagerFactory emf = Emf.emf;
	
	// Create, Read, Update and Delete
	
	public static Trabajo createTrabajo(Long idTrabajo) {

		EntityManager man = emf.createEntityManager();
		Trabajo trabajo = new Trabajo();
    	man.getTransaction().begin();
    	man.merge(trabajo);
    	man.getTransaction().commit();
    	man.close();
    	System.out.println("Trabajo creado");
		return trabajo;
	}
	
	public static Trabajo readTrabajo(Long idTrabajo) {
		EntityManager man = emf.createEntityManager();
		man.getTransaction().begin();
		 
		@SuppressWarnings("unchecked")
		List<Trabajo> trabajos = (List<Trabajo>) man.createQuery(
				"select id from Trabajo t where id="+idTrabajo);
		if (trabajos.size()==1) {
			man.close();
			return (Trabajo)trabajos.get(0);
		}else{man.close();System.out.println("MAs de un trabajo fue elejido.");man.close();return null;}
		
		
		
		
	}
}