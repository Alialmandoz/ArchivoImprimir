package test;

import java.util.List;
import java.util.Iterator;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import archivoImprimir.gestion.Cliente;

public class Mostrador {
	
	
	private static EntityManagerFactory emf = Persistence.createEntityManagerFactory("Persistencia");
	
	


    public static void main(String[] args) {
    	
    	crearCliente();
    	
    	imprimir();
    	
    }




	public static void crearCliente() {
		Cliente jose = new Cliente(1l, "jose", "lopez", "caca@caca.com", 4661770);
    	
    	EntityManager man = emf.createEntityManager();
    	
    	man.getTransaction().begin();
    	
    	man.persist(jose);
    	
    	man.getTransaction().commit();
    	man.close();
	}
	
	public static void imprimir() {
		EntityManager man = emf.createEntityManager();
		
		@SuppressWarnings("unchecked")
		List <Cliente>lista = man.createQuery("FROM Cliente").getResultList();
		
		for (Cliente cliente : lista) {
			System.out.println(cliente.getNombre());
			
		}
		
		
		
	}

}